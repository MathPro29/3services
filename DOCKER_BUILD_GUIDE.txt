===============================================================================
                    à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸à¸²à¸£ Build Docker Images
                    FastAPI Microservices Project
===============================================================================

ğŸ“‹ à¸ à¸²à¸à¸£à¸§à¸¡
===============================================================================
à¹‚à¸›à¸£à¹€à¸ˆà¸„à¸™à¸µà¹‰à¸¡à¸µ 3 services à¸—à¸µà¹ˆà¸ˆà¸°à¸–à¸¹à¸ build à¹€à¸›à¹‡à¸™ Docker images à¹à¸¢à¸à¸à¸±à¸™:
1. Service A (Host) - gRPC Server + FastAPI Server
2. Service B - gRPC Client
3. Service C - REST Client

à¹à¸¥à¹‰à¸§à¸™à¸³à¸¡à¸²à¸£à¸§à¸¡à¸à¸±à¸™à¹ƒà¸™ Docker network à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™à¸œà¹ˆà¸²à¸™ docker-compose


ğŸ”§ à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 1: Build à¹à¸•à¹ˆà¸¥à¸° Service à¹à¸¢à¸à¸à¸±à¸™ (Manual)
===============================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: Build Service A (Host Service)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

à¸„à¸³à¸ªà¸±à¹ˆà¸‡:
   docker build -t service_a:latest -f service_A-host/Dockerfile .

à¸­à¸˜à¸´à¸šà¸²à¸¢:
   - docker build           : à¸ªà¸±à¹ˆà¸‡ build image
   - -t service_a:latest    : à¸•à¸±à¹‰à¸‡à¸Šà¸·à¹ˆà¸­ image à¹€à¸›à¹‡à¸™ "service_a" tag "latest"
   - -f service_A-host/Dockerfile : à¸£à¸°à¸šà¸¸ Dockerfile à¸—à¸µà¹ˆà¸ˆà¸°à¹ƒà¸Šà¹‰
   - .                      : Build context (à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™)

à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¸—à¸µà¹ˆà¸„à¸§à¸£à¹€à¸«à¹‡à¸™:
   [+] Building 45.2s (10/10) FINISHED
   => [internal] load build definition from Dockerfile
   => => transferring dockerfile: 516B
   => [internal] load .dockerignore
   => [1/5] FROM docker.io/library/python:3.11-slim
   => [2/5] WORKDIR /app
   => [3/5] COPY requirements.txt .
   => [4/5] RUN pip install --no-cache-dir -r requirements.txt
   => [5/5] COPY service_A-host/ .
   => exporting to image
   => => naming to docker.io/library/service_a:latest

à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š image à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡:
   docker images | grep service_a

à¸„à¸§à¸£à¹€à¸«à¹‡à¸™:
   service_a    latest    abc123def456    2 minutes ago    450MB


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: Build Service B (gRPC Client)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

à¸„à¸³à¸ªà¸±à¹ˆà¸‡:
   docker build -t service_b:latest -f service_B/Dockerfile .

à¸­à¸˜à¸´à¸šà¸²à¸¢:
   - -t service_b:latest    : à¸•à¸±à¹‰à¸‡à¸Šà¸·à¹ˆà¸­ image à¹€à¸›à¹‡à¸™ "service_b"
   - -f service_B/Dockerfile : à¹ƒà¸Šà¹‰ Dockerfile à¸‚à¸­à¸‡ service_B

à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¸—à¸µà¹ˆà¸„à¸§à¸£à¹€à¸«à¹‡à¸™:
   [+] Building 35.1s (9/9) FINISHED
   => [5/5] COPY service_B/ .
   => exporting to image
   => => naming to docker.io/library/service_b:latest

à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š:
   docker images | grep service_b

à¸„à¸§à¸£à¹€à¸«à¹‡à¸™:
   service_b    latest    def456ghi789    1 minute ago     445MB


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: Build Service C (REST Client)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

à¸„à¸³à¸ªà¸±à¹ˆà¸‡:
   docker build -t service_c:latest -f service_C/Dockerfile .

à¸­à¸˜à¸´à¸šà¸²à¸¢:
   - -t service_c:latest    : à¸•à¸±à¹‰à¸‡à¸Šà¸·à¹ˆà¸­ image à¹€à¸›à¹‡à¸™ "service_c"
   - -f service_C/Dockerfile : à¹ƒà¸Šà¹‰ Dockerfile à¸‚à¸­à¸‡ service_C

à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¸—à¸µà¹ˆà¸„à¸§à¸£à¹€à¸«à¹‡à¸™:
   [+] Building 32.8s (9/9) FINISHED
   => [5/5] COPY service_C/ .
   => exporting to image
   => => naming to docker.io/library/service_c:latest

à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š:
   docker images | grep service_c

à¸„à¸§à¸£à¹€à¸«à¹‡à¸™:
   service_c    latest    ghi789jkl012    30 seconds ago   440MB


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Images à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

à¸„à¸³à¸ªà¸±à¹ˆà¸‡:
   docker images

à¸„à¸§à¸£à¹€à¸«à¹‡à¸™:
   REPOSITORY   TAG       IMAGE ID       CREATED          SIZE
   service_c    latest    ghi789jkl012   2 minutes ago    440MB
   service_b    latest    def456ghi789   3 minutes ago    445MB
   service_a    latest    abc123def456   5 minutes ago    450MB
   python       3.11-slim xyz987uvw654   2 weeks ago      125MB


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 5: à¸£à¸±à¸™ Container à¹à¸•à¹ˆà¸¥à¸°à¸•à¸±à¸§à¹à¸¢à¸à¸à¸±à¸™ (à¸—à¸”à¸ªà¸­à¸š)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

5.1 à¸£à¸±à¸™ Service A:
   docker run -d --name service_a_container -p 50051:50051 -p 8000:8000 service_a:latest

   à¸­à¸˜à¸´à¸šà¸²à¸¢:
   - -d                     : à¸£à¸±à¸™à¹à¸šà¸š detached (background)
   - --name service_a_container : à¸•à¸±à¹‰à¸‡à¸Šà¸·à¹ˆà¸­ container
   - -p 50051:50051         : Map port 50051 (gRPC)
   - -p 8000:8000           : Map port 8000 (FastAPI)
   - service_a:latest       : à¹ƒà¸Šà¹‰ image à¸—à¸µà¹ˆ build à¹„à¸§à¹‰

   à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š:
   docker ps
   curl http://localhost:8000/health

5.2 à¸£à¸±à¸™ Service B (à¸•à¹‰à¸­à¸‡à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸±à¸š Service A):
   docker run -d --name service_b_container --link service_a_container:service_a service_b:latest

   à¸­à¸˜à¸´à¸šà¸²à¸¢:
   - --link service_a_container:service_a : à¹€à¸Šà¸·à¹ˆà¸­à¸¡ container à¸à¸±à¸š service_a

5.3 à¸£à¸±à¸™ Service C:
   docker run -d --name service_c_container --link service_a_container:service_a service_c:latest

5.4 à¸”à¸¹ Logs:
   docker logs service_a_container
   docker logs service_b_container
   docker logs service_c_container

5.5 à¸«à¸¢à¸¸à¸”à¹à¸¥à¸°à¸¥à¸š Containers:
   docker stop service_a_container service_b_container service_c_container
   docker rm service_a_container service_b_container service_c_container


ğŸš€ à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 2: à¹ƒà¸Šà¹‰ docker-compose (à¹à¸™à¸°à¸™à¸³ - à¸£à¸§à¸¡à¸—à¸¸à¸à¸­à¸¢à¹ˆà¸²à¸‡à¹ƒà¸™ Network à¹€à¸”à¸µà¸¢à¸§)
===============================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: Build à¸—à¸¸à¸ Service à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

à¸„à¸³à¸ªà¸±à¹ˆà¸‡:
   docker-compose build

à¸­à¸˜à¸´à¸šà¸²à¸¢:
   - à¸­à¹ˆà¸²à¸™ docker-compose.yml
   - Build images à¸—à¸±à¹‰à¸‡ 3 services à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™
   - à¸•à¸±à¹‰à¸‡à¸Šà¸·à¹ˆà¸­ images à¸•à¸²à¸¡ project name

à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œ:
   [+] Building service_a
   [+] Building service_b
   [+] Building service_c
   Successfully built service_a
   Successfully built service_b
   Successfully built service_c

à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š:
   docker-compose images

à¸„à¸§à¸£à¹€à¸«à¹‡à¸™:
   Container              Repository              Tag       Image Id       Size
   tricommu_service_a    tricommu_service_a     latest    abc123def456   450MB
   tricommu_service_b    tricommu_service_b     latest    def456ghi789   445MB
   tricommu_service_c    tricommu_service_c     latest    ghi789jkl012   440MB


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: Build Service à¹€à¸‰à¸à¸²à¸°à¸•à¸±à¸§                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Build à¹€à¸‰à¸à¸²à¸° Service A:
   docker-compose build service_a

Build à¹€à¸‰à¸à¸²à¸° Service B:
   docker-compose build service_b

Build à¹€à¸‰à¸à¸²à¸° Service C:
   docker-compose build service_c


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: Build à¹à¸šà¸šà¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰ Cache (Rebuild à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

à¸„à¸³à¸ªà¸±à¹ˆà¸‡:
   docker-compose build --no-cache

à¹ƒà¸Šà¹‰à¹€à¸¡à¸·à¹ˆà¸­:
   - à¹à¸à¹‰à¹„à¸‚ Dockerfile
   - à¹à¸à¹‰à¹„à¸‚ requirements.txt
   - à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ build à¹ƒà¸«à¸¡à¹ˆà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: à¸£à¸±à¸™ Containers à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹ƒà¸™ Network à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

à¸„à¸³à¸ªà¸±à¹ˆà¸‡:
   docker-compose up

à¸«à¸£à¸·à¸­à¸£à¸±à¸™à¹à¸šà¸š background:
   docker-compose up -d

à¸­à¸˜à¸´à¸šà¸²à¸¢:
   - à¸ªà¸£à¹‰à¸²à¸‡ network: tricommu_network
   - à¸£à¸±à¸™ service_a (à¸£à¸­à¸ˆà¸™à¸à¸§à¹ˆà¸² health check à¸œà¹ˆà¸²à¸™)
   - à¸£à¸±à¸™ service_b (à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸ service_a healthy)
   - à¸£à¸±à¸™ service_c (à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸ service_a healthy)

à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œ:
   [+] Running 4/4
   âœ” Network tricommu_tricommu_network    Created
   âœ” Container tricommu_service_a         Started
   âœ” Container tricommu_service_b         Started
   âœ” Container tricommu_service_c         Started


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 5: Build à¹à¸¥à¸° Run à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

à¸„à¸³à¸ªà¸±à¹ˆà¸‡:
   docker-compose up --build

à¸­à¸˜à¸´à¸šà¸²à¸¢:
   - Build images à¹ƒà¸«à¸¡à¹ˆà¸—à¸¸à¸à¸„à¸£à¸±à¹‰à¸‡
   - à¹à¸¥à¹‰à¸§à¸£à¸±à¸™ containers

à¹ƒà¸Šà¹‰à¹€à¸¡à¸·à¹ˆà¸­:
   - à¹à¸à¹‰à¹„à¸‚à¹‚à¸„à¹‰à¸”
   - à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ rebuild à¹à¸¥à¸°à¸£à¸±à¸™à¸—à¸±à¸™à¸—à¸µ


ğŸ“Š à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸šà¹ˆà¸­à¸¢
===============================================================================

à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Images:
   docker images
   docker-compose images

à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Containers à¸—à¸µà¹ˆà¸£à¸±à¸™à¸­à¸¢à¸¹à¹ˆ:
   docker ps
   docker-compose ps

à¸”à¸¹ Logs:
   docker-compose logs -f
   docker-compose logs -f service_a
   docker-compose logs -f service_b
   docker-compose logs -f service_c

à¸«à¸¢à¸¸à¸” Containers:
   docker-compose stop

à¹€à¸£à¸´à¹ˆà¸¡ Containers à¸—à¸µà¹ˆà¸«à¸¢à¸¸à¸”à¹„à¸§à¹‰:
   docker-compose start

Restart Containers:
   docker-compose restart

à¸«à¸¢à¸¸à¸”à¹à¸¥à¸°à¸¥à¸š Containers:
   docker-compose down

à¸¥à¸š Containers + Networks + Volumes:
   docker-compose down -v

à¸¥à¸šà¸—à¸¸à¸à¸­à¸¢à¹ˆà¸²à¸‡à¸£à¸§à¸¡ Images:
   docker-compose down --rmi all -v


ğŸ” à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¹à¸¥à¸° Debug
===============================================================================

à¹€à¸‚à¹‰à¸²à¹„à¸›à¹ƒà¸™ Container:
   docker-compose exec service_a bash
   docker-compose exec service_b bash
   docker-compose exec service_c bash

à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Network:
   docker network ls
   docker network inspect tricommu_tricommu_network

à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Logs à¹à¸šà¸šà¸¥à¸°à¹€à¸­à¸µà¸¢à¸”:
   docker-compose logs --tail=100 service_a

à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Resource Usage:
   docker stats


ğŸ§¹ à¸—à¸³à¸„à¸§à¸²à¸¡à¸ªà¸°à¸­à¸²à¸”
===============================================================================

à¸¥à¸š Images à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰:
   docker image prune

à¸¥à¸š Containers à¸—à¸µà¹ˆà¸«à¸¢à¸¸à¸”à¹à¸¥à¹‰à¸§:
   docker container prune

à¸¥à¸š Networks à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰:
   docker network prune

à¸¥à¸š Volumes à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰:
   docker volume prune

à¸¥à¸šà¸—à¸¸à¸à¸­à¸¢à¹ˆà¸²à¸‡à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰:
   docker system prune -a


ğŸ“ à¸ªà¸£à¸¸à¸›à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¹à¸™à¸°à¸™à¸³
===============================================================================

à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸à¸±à¸’à¸™à¸² (Development):
   1. docker-compose build              # Build à¸—à¸¸à¸ service
   2. docker-compose up                 # à¸£à¸±à¸™à¹à¸¥à¸°à¸”à¸¹ logs
   3. à¹à¸à¹‰à¹„à¸‚à¹‚à¸„à¹‰à¸”
   4. docker-compose up --build         # Rebuild à¹à¸¥à¸°à¸£à¸±à¸™à¹ƒà¸«à¸¡à¹ˆ
   5. docker-compose down               # à¸«à¸¢à¸¸à¸”à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸ªà¸£à¹‡à¸ˆ

à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š (Testing):
   1. docker-compose up --build -d      # Build à¹à¸¥à¸°à¸£à¸±à¸™à¹à¸šà¸š background
   2. docker-compose logs -f            # à¸”à¸¹ logs
   3. à¸—à¸”à¸ªà¸­à¸šà¸œà¹ˆà¸²à¸™ browser: http://localhost:8000/docs
   4. docker-compose exec service_b python test_grpc.py
   5. docker-compose down               # à¸«à¸¢à¸¸à¸”à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸ªà¸£à¹‡à¸ˆ

à¸ªà¸³à¸«à¸£à¸±à¸š Production:
   1. docker-compose build --no-cache   # Build à¹ƒà¸«à¸¡à¹ˆà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
   2. docker-compose up -d              # à¸£à¸±à¸™à¹à¸šà¸š background
   3. docker-compose logs -f            # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š logs
   4. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š health: curl http://localhost:8000/health


âš ï¸ à¸‚à¹‰à¸­à¸„à¸§à¸£à¸£à¸°à¸§à¸±à¸‡
===============================================================================

1. Port Conflicts:
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² port 50051 à¹à¸¥à¸° 8000 à¸§à¹ˆà¸²à¸‡à¸à¹ˆà¸­à¸™à¸£à¸±à¸™
   - à¹ƒà¸Šà¹‰: netstat -ano | findstr "8000"

2. Build Context:
   - à¸•à¹‰à¸­à¸‡à¸£à¸±à¸™à¸„à¸³à¸ªà¸±à¹ˆà¸‡ docker build à¸ˆà¸²à¸à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ tricommu/
   - à¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆà¸ˆà¸²à¸à¹ƒà¸™ service_A-host/ à¸«à¸£à¸·à¸­ service_B/

3. Network:
   - Services à¸•à¹‰à¸­à¸‡à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ network à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™à¸–à¸¶à¸‡à¸ˆà¸°à¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¸à¸±à¸™à¹„à¸”à¹‰
   - docker-compose à¸ˆà¸±à¸”à¸à¸²à¸£ network à¹ƒà¸«à¹‰à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´

4. Dependencies:
   - Service B à¹à¸¥à¸° C à¸•à¹‰à¸­à¸‡à¸£à¸­ Service A healthy à¸à¹ˆà¸­à¸™
   - à¸à¸³à¸«à¸™à¸”à¹„à¸§à¹‰à¹ƒà¸™ docker-compose.yml à¹à¸¥à¹‰à¸§

5. Logs:
   - à¸–à¹‰à¸² container à¸«à¸¢à¸¸à¸”à¸—à¸³à¸‡à¸²à¸™ à¹ƒà¸«à¹‰à¸”à¸¹ logs à¸à¹ˆà¸­à¸™
   - docker-compose logs service_a


===============================================================================
                            à¸ˆà¸šà¸„à¸¹à¹ˆà¸¡à¸·à¸­
===============================================================================
